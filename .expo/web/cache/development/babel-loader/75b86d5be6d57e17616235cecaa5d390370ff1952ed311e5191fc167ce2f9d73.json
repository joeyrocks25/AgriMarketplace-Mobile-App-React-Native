{"ast":null,"code":"import client from \"./client\";\nvar endpoint = \"/listings\";\nvar getListings = function getListings() {\n  return client.get(endpoint);\n};\nexport var addListing = function addListing(listing, _onUploadProgress) {\n  var data = new FormData();\n  data.append(\"title\", listing.title);\n  data.append(\"price\", listing.price);\n  data.append(\"categoryId\", listing.category.value);\n  data.append(\"description\", listing.description);\n  listing.images.forEach(function (image, index) {\n    return data.append(\"images\", {\n      name: \"image\" + index,\n      type: \"image/jpeg\",\n      uri: image\n    });\n  });\n  if (listing.location) data.append(\"location\", JSON.stringify(listing.location));\n  return client.post(endpoint, data, {\n    onUploadProgress: function onUploadProgress(progress) {\n      return _onUploadProgress(progress.loaded / progress.total);\n    }\n  });\n};\nexport default {\n  addListing: addListing,\n  getListings: getListings\n};","map":{"version":3,"names":["client","endpoint","getListings","get","addListing","listing","onUploadProgress","data","FormData","append","title","price","category","value","description","images","forEach","image","index","name","type","uri","location","JSON","stringify","post","progress","loaded","total"],"sources":["C:/Users/kpfb2/Desktop/AM2 - Copy (2)/app/api/listings.js"],"sourcesContent":["import client from \"./client\";\r\n\r\nconst endpoint = \"/listings\";\r\n\r\nconst getListings = () => client.get(endpoint);\r\n\r\nexport const addListing = (listing, onUploadProgress) => {\r\n  const data = new FormData();\r\n  data.append(\"title\", listing.title);\r\n  data.append(\"price\", listing.price);\r\n  data.append(\"categoryId\", listing.category.value);\r\n  data.append(\"description\", listing.description);\r\n\r\n  listing.images.forEach((image, index) =>\r\n    data.append(\"images\", {\r\n      name: \"image\" + index,\r\n      type: \"image/jpeg\",\r\n      uri: image,\r\n    })\r\n  );\r\n\r\n  if (listing.location)\r\n    data.append(\"location\", JSON.stringify(listing.location));\r\n\r\n  return client.post(endpoint, data, {\r\n    onUploadProgress: (progress) =>\r\n      onUploadProgress(progress.loaded / progress.total),\r\n  });\r\n};\r\n\r\nexport default {\r\n  addListing,\r\n  getListings,\r\n};\r\n"],"mappings":"AAAA,OAAOA,MAAM;AAEb,IAAMC,QAAQ,GAAG,WAAW;AAE5B,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAA;EAAA,OAASF,MAAM,CAACG,GAAG,CAACF,QAAQ,CAAC;AAAA;AAE9C,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAUA,CAAIC,OAAO,EAAEC,iBAAgB,EAAK;EACvD,IAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC3BD,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEJ,OAAO,CAACK,KAAK,CAAC;EACnCH,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEJ,OAAO,CAACM,KAAK,CAAC;EACnCJ,IAAI,CAACE,MAAM,CAAC,YAAY,EAAEJ,OAAO,CAACO,QAAQ,CAACC,KAAK,CAAC;EACjDN,IAAI,CAACE,MAAM,CAAC,aAAa,EAAEJ,OAAO,CAACS,WAAW,CAAC;EAE/CT,OAAO,CAACU,MAAM,CAACC,OAAO,CAAC,UAACC,KAAK,EAAEC,KAAK;IAAA,OAClCX,IAAI,CAACE,MAAM,CAAC,QAAQ,EAAE;MACpBU,IAAI,EAAE,OAAO,GAAGD,KAAK;MACrBE,IAAI,EAAE,YAAY;MAClBC,GAAG,EAAEJ;IACP,CAAC,CAAC;EAAA,CACJ,CAAC;EAED,IAAIZ,OAAO,CAACiB,QAAQ,EAClBf,IAAI,CAACE,MAAM,CAAC,UAAU,EAAEc,IAAI,CAACC,SAAS,CAACnB,OAAO,CAACiB,QAAQ,CAAC,CAAC;EAE3D,OAAOtB,MAAM,CAACyB,IAAI,CAACxB,QAAQ,EAAEM,IAAI,EAAE;IACjCD,gBAAgB,EAAE,SAAAA,iBAACoB,QAAQ;MAAA,OACzBpB,iBAAgB,CAACoB,QAAQ,CAACC,MAAM,GAAGD,QAAQ,CAACE,KAAK,CAAC;IAAA;EACtD,CAAC,CAAC;AACJ,CAAC;AAED,eAAe;EACbxB,UAAU,EAAVA,UAAU;EACVF,WAAW,EAAXA;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}